<p>Click on the action buttons in the action panel to get the query execution times for tables with and 
without MDC and generate a graph comparing the same</p>

<h4><u><FONT style="COLOR: red">Note :</FONT></u><p>Results may vary depending on the volume of data. 
For optimal performance, use high volume of data.</p>
<p>To increase the volume of data, load the fact tables 'te_temp.subscriber_rated_usage' and
 'te_temp.subscriber_dedicated_account_usage' with the corresponding .del files present in the LoadFiles directory.</p></h4>

<H2><B>Operation</B></H2><HR><BR>
<h4>Get Query Execution Times</h4>
<p>Query execution times for tables enabled with DPF + Indexes + RP + MDC, DPF + Indexes + RP, DPF + Indexes, DPF + Indexes and DPF are computed</p>

<h4>Performance Comparison</h4>
<p>
<ol>
<li>A graph comparing the query execution time of DPF + Indexes + RP + MDC tables versus DPF + Indexes + RP tables versus DPF + Indexes versus DPF + Indexes versus DPF tables is generated.</li>
<li>If you hover your cursor over the bars in the graph you will see the exact execution time for each run.</li>
</ol>
</p>

<BR><H2><B>Result</B></H2><HR>
<p>The query execution time would reduce with the creation of a MDC by clustering data across multiple dimensions</p>
<h4><u><FONT style="COLOR: red">Note :</FONT></u></h4><p>The graph here might show an increase in the query execution time
with MDC. This is because the amount of data in the tables is very low. This causes the MDC blocks to be inadequately 
occupied. Also, the cost of retrieval of the data from these blocks is not compensated by the amount of data.</p>
<p>In a typical data warehouse environment consisting of millions of rows of data, the MDC would show a great reduction in execution time</p>

<H2><B>Explain Snapshot</B></H2><HR>
<p>An explain snapshot is compressed information that is collected when an SQL statement is explained. 
It contains</p>
<ol>
<li>The internal representation of the access plan (graphical as well), including its operators and the tables 
and indexes accessed</li>
<li>The decision criteria used by the optimizer, including statistics for database objects and the cumulative 
cost for each operation.</li>
</ol>
</p>

<p>Run the following steps on the DB2 CLP window to view the explain snapshot :
<ol>
<li>Change to directory <b>DB2_install_directory\sqllib\misc</b></li>
<li>Connect to the database as <b>db2 connect to <CODE>designdb</CODE></b>.</li>
<li>Run <b>db2 -tvf EXPLAIN.DDL</b>. This creates the explain tables.</li>
<li>Run <b>db2 SET CURRENT EXPLAIN MODE=YES</b></li>
<li>Go the Ad Hoc SQL tab, Select Options. Note the Default Schema used for this workshop.</li>
<li>Change to directory <b>TE_install_directory\tutorials\Workshops\DesignforQueryPerformance\MultidimensionalClustering</b></li> 
<li>In the file <CODE><b>query_MDC.db2</b></CODE> replace 'SCHEMA' with the Default Schema.</li>
<li>Run <b>db2 -tvf <CODE>query_MDC.db2</CODE></b></li>
<li>Run <b>db2 SET CURRENT EXPLAIN MODE=NO</b></li>
<li>Run <b>db2exfmt -d <CODE>designdb</CODE> -1 -o <CODE>explain_MDC.out</CODE></b>. The Explain Plan can be viewed in the output file <CODE><b>explain_MDC.out</b></CODE>.</li> 
</ol>
</p><br>

<p>Click here to view the sample output of the Explain Access Plan : <a onclick="OpenURLInFloatingWindow('?BASE_DIRECTORY?/HTML/Explain_MDC.html');"><b>Sample Explain Access Plan</b></a></p>
