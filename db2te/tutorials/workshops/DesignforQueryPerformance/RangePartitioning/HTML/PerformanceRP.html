<p>Click on the action buttons in the action panel to get the query execution times for tables with and 
without range partitions and generate a graph comparing the same</p>

<h4><u><FONT style="COLOR: red">Note :</FONT></u><p>Results may vary depending on the volume of data. 
For optimal performance, use high volume of data.</p>
<p>To increase the volume of data, load the fact tables 'te_temp.subscriber_rated_usage' and
 'te_temp.subscriber_dedicated_account_usage' with the corresponding .del files present in the LoadFiles directory.</p></h4

<H2><B>Operation</B></H2><HR><BR>
<h4>Get Query Execution Times</h4>
<p>Query execution times for tables enabled with DPF + Indexes + RPF, DPF + Indexes, DPF + Indexes and DPF are computed</p>

<h4>Performance Comparison</h4>
<p>
<ol>
<li>A graph comparing the query execution time of DPF + Indexes + RPF tables versus DPF + Indexes versus DPF + Indexes versus DPF tables is generated.</li>
<li>If you hover your cursor over the bars in the graph you will see the exact execution time for each run.</li>
</ol>
</p>

<BR><H2><B>Result</B></H2><HR>
<p>The query execution time is greatly reduced with the creation of range partitioned tables</p>
<p>Range partitioning helps reduce network traffic as data pertaining to a particular query
predicate may reside in one range. Manageability of such data becomes easier too.</p>

<H2><B>Explain Snapshot</B></H2><HR>
<p>An explain snapshot is compressed information that is collected when an SQL statement is explained. 
It contains</p>
<ol>
<li>The internal representation of the access plan (graphical as well), including its operators and the tables 
and indexes accessed</li>
<li>The decision criteria used by the optimizer, including statistics for database objects and the cumulative 
cost for each operation.</li>
</ol>
</p>

<p>Run the following steps on the DB2 CLP window to view the explain snapshot :
<ol>
<li>Change to directory <b>DB2_install_directory\sqllib\misc</b></li>
<li>Connect to the database as <b>db2 connect to <CODE>designdb</CODE></b>.</li>
<li>Run <b>db2 -tvf EXPLAIN.DDL</b>. This creates the explain tables.</li>
<li>Run <b>db2 SET CURRENT EXPLAIN MODE=YES</b></li>
<li>Go the Ad Hoc SQL tab, Select Options. Note the Default Schema used for this workshop.</li>
<li>Change to directory <b>TE_install_directory\tutorials\Workshops\DesignforQueryPerformance\TablePartitioning</b></li> 
<li>In the file <CODE><b>query_RP.db2</b></CODE> replace 'SCHEMA' with the Default Schema.</li>
<li>Run <b>db2 -tvf <CODE>query_RP.db2</CODE></b></li>
<li>Run <b>db2 SET CURRENT EXPLAIN MODE=NO</b></li>
<li>Run <b>db2exfmt -d <CODE>designdb</CODE> -1 -o <CODE>explain_RP.out</CODE></b>. The Explain Plan can be viewed in the output file <CODE><b>explain_RP.out</b></CODE>.</li> 
</ol>
</p><br>

<p>Click here to view the sample output of the Explain Access Plan : <a onclick="OpenURLInFloatingWindow('?BASE_DIRECTORY?/HTML/Explain_RP.html');"><b>Sample Explain Access Plan</b></a></p>
